(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,35812,e=>{"use strict";e.s(["ChatPanel",()=>A],35812);var s=e.i(78311),a=e.i(9781),t=e.i(48399),r=e.i(25217),l=e.i(75854),n=e.i(49778),i=e.i(98467),o=e.i(52003),d=e.i(60163),c=e.i(34785),m=e.i(12439),x=e.i(9531),u=e.i(39213),h=e.i(14266);let g=(0,h.default)("paperclip",[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]]),p=(0,h.default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),b=(0,h.default)("smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),f=(0,h.default)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);var v=e.i(87613),j=e.i(21828),N=e.i(86112),y=e.i(43239);let k=[{id:"1",content:"Hello! I need help with my hotel booking. I made a reservation for next week but I need to change the dates.",sender:"user",senderName:"Sarah Johnson",timestamp:"10:23 AM",status:"read"},{id:"2",content:"Hello Sarah! I'd be happy to help you with your booking modification. Could you please provide me with your reservation number so I can look up your booking details?",sender:"ai",senderName:"AI Assistant",timestamp:"10:23 AM"},{id:"3",content:"Yes, it's RES-2024-78543. I originally booked for December 15-18, but I need to change it to December 20-23.",sender:"user",senderName:"Sarah Johnson",timestamp:"10:24 AM",status:"read"},{id:"4",content:"Thank you for providing your reservation number. I've found your booking for a Deluxe Room at our Downtown location. Let me check the availability for December 20-23...",sender:"ai",senderName:"AI Assistant",timestamp:"10:24 AM"},{id:"5",content:"Great news! We have availability for your preferred dates. The Deluxe Room is available from December 20-23. The rate would be $189/night, which is the same as your original booking. Would you like me to proceed with this change?",sender:"ai",senderName:"AI Assistant",timestamp:"10:25 AM"},{id:"6",content:"That sounds perfect! But actually, I was wondering if there are any suites available? It's going to be a special occasion.",sender:"user",senderName:"Sarah Johnson",timestamp:"10:26 AM",status:"read"},{id:"7",content:"I understand you're looking for something special! Let me connect you with one of our agents who can discuss our suite options and any special packages we might have available for your occasion.",sender:"ai",senderName:"AI Assistant",timestamp:"10:26 AM",isEscalation:!0},{id:"8",content:"Hi Sarah! I'm John, and I'll be taking over from here. I see you're interested in our suites for a special occasion from December 20-23. We have some wonderful options I'd love to share with you. May I ask what the occasion is? We often have special packages for anniversaries, birthdays, and other celebrations!",sender:"staff",senderName:"John Doe",timestamp:"10:27 AM",status:"delivered"}],w={user:{align:"right",bgColor:"bg-emerald-500 text-white",icon:null},ai:{align:"left",bgColor:"bg-violet-500/10 text-foreground border border-violet-500/20",icon:d.Bot},staff:{align:"left",bgColor:"bg-card text-foreground border border-border",icon:v.UserCheck}},z=[{id:"vip",label:"VIP",color:"bg-amber-500"},{id:"urgent",label:"Urgent",color:"bg-rose-500"},{id:"escalated",label:"Escalated",color:"bg-orange-500"},{id:"follow-up",label:"Follow-up",color:"bg-blue-500"},{id:"resolved",label:"Resolved",color:"bg-emerald-500"},{id:"pending",label:"Pending",color:"bg-slate-500"}],S={active:{label:"Active",color:"bg-emerald-500",textColor:"text-emerald-600"},waiting:{label:"Waiting",color:"bg-amber-500",textColor:"text-amber-600"},escalated:{label:"Escalated",color:"bg-orange-500",textColor:"text-orange-600"},resolved:{label:"Resolved",color:"bg-slate-500",textColor:"text-slate-600"}};function A(){let[e,h]=(0,N.useState)(""),[A,C]=(0,N.useState)(k),[I,T]=(0,N.useState)("user"),[D,M]=(0,N.useState)(!1),[R,B]=(0,N.useState)(!0),[E,J]=(0,N.useState)(!1),[P,U]=(0,N.useState)("active"),[H,F]=(0,N.useState)(["vip"]),[W,K]=(0,N.useState)(!1),L=(0,N.useRef)(null),O=(0,N.useRef)(null),V=async()=>{R?(B(!1),y.toast.info("Returned to AI",{description:"AI Assistant is now handling this conversation."})):(K(!0),await new Promise(e=>setTimeout(e,500)),K(!1),B(!0),y.toast.success("Chat taken over",{description:"You are now handling this conversation directly."}))};(0,N.useEffect)(()=>{var e;null==(e=L.current)||e.scrollIntoView({behavior:"smooth"})},[A,I]);let Y=(0,N.useCallback)(async()=>{if(!e.trim()||D)return;M(!0);let s={id:String(A.length+1),content:e.trim(),sender:"staff",senderName:"John Doe",timestamp:new Date().toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),status:"sent"};C(e=>[...e,s]),h(""),T(null),setTimeout(()=>{C(e=>e.map(e=>e.id===s.id?{...e,status:"delivered"}:e)),M(!1),setTimeout(()=>{T("ai")},1e3)},500)},[e,A.length,D]);return(0,s.jsxs)("div",{className:"flex flex-col h-full bg-gradient-to-b from-muted/30 to-background",children:[(0,s.jsxs)("div",{className:"border-b border-border bg-background/80 backdrop-blur-sm",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between px-4 py-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)(a.Avatar,{className:"size-10",children:[(0,s.jsx)(a.AvatarImage,{src:"/avatars/sarah.jpg",alt:"Sarah Johnson"}),(0,s.jsx)(a.AvatarFallback,{className:"bg-gradient-to-br from-amber-500 to-orange-600 text-white",children:"SJ"})]}),E&&(0,s.jsx)("span",{className:"absolute -top-1 -right-1 size-4 rounded-full bg-rose-500 flex items-center justify-center",children:(0,s.jsx)(o.AlertTriangle,{className:"size-2.5 text-white"})})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("h2",{className:"font-semibold text-sm",children:"Sarah Johnson"}),(0,s.jsxs)(l.Select,{value:P,onValueChange:e=>{U(e),y.toast.success("Status changed to ".concat(S[e].label))},children:[(0,s.jsxs)(l.SelectTrigger,{className:"h-5 w-auto gap-1 border-none bg-transparent p-0 text-xs font-medium shadow-none focus:ring-0",children:[(0,s.jsx)("span",{className:(0,i.cn)("size-2 rounded-full",S[P].color)}),(0,s.jsx)(l.SelectValue,{})]}),(0,s.jsxs)(l.SelectContent,{children:[(0,s.jsx)(l.SelectItem,{value:"active",children:(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"size-2 rounded-full bg-emerald-500"}),"Active"]})}),(0,s.jsx)(l.SelectItem,{value:"waiting",children:(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"size-2 rounded-full bg-amber-500"}),"Waiting"]})}),(0,s.jsx)(l.SelectItem,{value:"escalated",children:(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"size-2 rounded-full bg-orange-500"}),"Escalated"]})}),(0,s.jsx)(l.SelectItem,{value:"resolved",children:(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"size-2 rounded-full bg-slate-500"}),"Resolved"]})})]})]})]}),(0,s.jsx)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:"user"===I?(0,s.jsx)("span",{className:"text-emerald-600 dark:text-emerald-400 font-medium",children:"Typing..."}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)("span",{className:"size-2 rounded-full bg-emerald-500"}),"Online"]}),(0,s.jsx)("span",{children:"â€¢"}),(0,s.jsx)("span",{children:"Booking #RES-2024-78543"})]})})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(r.Popover,{children:[(0,s.jsx)(r.PopoverTrigger,{asChild:!0,children:(0,s.jsxs)(t.Button,{variant:"outline",size:"sm",className:"h-8 gap-1.5 text-xs border-amber-500/30 text-amber-600 hover:bg-amber-500/10 hover:text-amber-600",children:[(0,s.jsx)(f,{className:"size-3.5"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Add Tag"})]})}),(0,s.jsxs)(r.PopoverContent,{className:"w-48 p-2",align:"end",children:[(0,s.jsx)("p",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Add a tag"}),(0,s.jsxs)("div",{className:"space-y-1",children:[z.filter(e=>!H.includes(e.id)).map(e=>(0,s.jsxs)("button",{onClick:()=>(e=>{if(!H.includes(e)){F(s=>[...s,e]);let s=z.find(s=>s.id===e);y.toast.success("Tag added: ".concat(null==s?void 0:s.label))}})(e.id),className:"w-full flex items-center gap-2 px-2 py-1.5 text-xs rounded-md hover:bg-muted transition-colors",children:[(0,s.jsx)("span",{className:(0,i.cn)("size-2 rounded-full",e.color)}),e.label]},e.id)),0===z.filter(e=>!H.includes(e.id)).length&&(0,s.jsx)("p",{className:"text-xs text-muted-foreground text-center py-2",children:"All tags added"})]})]})]}),(0,s.jsxs)(t.Button,{variant:"outline",size:"sm",onClick:()=>{J(!E),E?(F(e=>e.filter(e=>"urgent"!==e)),y.toast.info("Urgent flag removed")):(F(e=>e.includes("urgent")?e:[...e,"urgent"]),y.toast.warning("Marked as urgent",{description:"This conversation has been flagged as urgent."}))},className:(0,i.cn)("h-8 gap-1.5 text-xs transition-all",E?"border-rose-500 bg-rose-500/10 text-rose-600 hover:bg-rose-500/20":"border-rose-500/30 text-rose-600 hover:bg-rose-500/10 hover:text-rose-600"),children:[(0,s.jsx)(o.AlertTriangle,{className:(0,i.cn)("size-3.5",E&&"fill-rose-500")}),(0,s.jsx)("span",{className:"hidden sm:inline",children:E?"Urgent":"Mark Urgent"})]}),(0,s.jsxs)(t.Button,{variant:R?"outline":"default",size:"sm",onClick:V,disabled:W,className:(0,i.cn)("h-8 gap-1.5 text-xs transition-all",R?"border-emerald-500 bg-emerald-500/10 text-emerald-600 hover:bg-emerald-500/20":"bg-emerald-600 hover:bg-emerald-700"),children:[W?(0,s.jsx)(u.Loader2,{className:"size-3.5 animate-spin"}):R?(0,s.jsx)(v.UserCheck,{className:"size-3.5"}):(0,s.jsx)(x.Hand,{className:"size-3.5"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:W?"Taking over...":R?"Handling":"Take Over"})]})]})]}),H.length>0&&(0,s.jsxs)("div",{className:"flex items-center gap-2 px-4 pb-3",children:[(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:"Tags:"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-1.5",children:H.map(e=>{let a=z.find(s=>s.id===e);return a?(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-[10px] font-medium bg-muted",children:[(0,s.jsx)("span",{className:(0,i.cn)("size-1.5 rounded-full",a.color)}),a.label,(0,s.jsx)("button",{onClick:()=>{F(s=>s.filter(s=>s!==e)),"urgent"===e&&J(!1)},className:"ml-0.5 hover:text-rose-500 transition-colors",children:(0,s.jsx)(j.X,{className:"size-3"})})]},e):null})})]}),R&&(0,s.jsx)("div",{className:"flex items-center gap-2 px-4 pb-2",children:(0,s.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-emerald-600 dark:text-emerald-400 bg-emerald-500/10 px-2 py-1 rounded-full",children:[(0,s.jsx)(v.UserCheck,{className:"size-3"}),(0,s.jsx)("span",{className:"font-medium",children:"You are handling this conversation"})]})})]}),(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto px-4 py-4 space-y-4",children:[A.map(e=>{let a=w[e.sender],t=a.icon,r="user"===e.sender,l="staff"===e.sender;return(0,s.jsxs)("div",{className:(0,i.cn)("flex gap-3 max-w-[80%]",(r||l)&&"ml-auto flex-row-reverse"),children:[!r&&!l&&(0,s.jsx)("div",{className:"shrink-0",children:(0,s.jsx)("div",{className:(0,i.cn)("size-8 rounded-full flex items-center justify-center","ai"===e.sender?"bg-gradient-to-br from-violet-500 to-purple-600":"bg-gradient-to-br from-emerald-500 to-teal-600"),children:t&&(0,s.jsx)(t,{className:"size-4 text-white"})})}),(0,s.jsxs)("div",{className:(0,i.cn)("space-y-1",(r||l)&&"flex flex-col items-end"),children:[(0,s.jsxs)("div",{className:(0,i.cn)("flex items-center gap-2",(r||l)&&"flex-row-reverse"),children:[!r&&(0,s.jsx)("span",{className:"text-xs font-medium",children:e.senderName}),(0,s.jsx)("span",{className:"text-[10px] text-muted-foreground",children:e.timestamp})]}),(0,s.jsx)("div",{className:(0,i.cn)("rounded-2xl px-4 py-2.5 text-sm leading-relaxed",a.bgColor,r||l?"rounded-tr-md":"rounded-tl-md"),children:e.content}),l&&e.status&&(0,s.jsxs)("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground",children:["sent"===e.status&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Check,{className:"size-3"}),"Sent"]}),"delivered"===e.status&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.CheckCheck,{className:"size-3 text-emerald-500"}),"Delivered"]}),"read"===e.status&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.CheckCheck,{className:"size-3 text-blue-500"}),"Read"]})]}),e.isEscalation&&(0,s.jsxs)("div",{className:"flex items-center gap-1.5 text-[10px] text-amber-600 dark:text-amber-400 font-medium",children:[(0,s.jsx)(x.Hand,{className:"size-3"}),"Escalated to human agent"]})]})]},e.id)}),I&&(0,s.jsxs)("div",{className:(0,i.cn)("flex gap-3 max-w-[80%]",""),children:[(0,s.jsx)("div",{className:(0,i.cn)("size-8 rounded-full flex items-center justify-center","user"===I?"bg-gradient-to-br from-amber-500 to-orange-600":"bg-gradient-to-br from-violet-500 to-purple-600"),children:"user"===I?(0,s.jsx)("span",{className:"text-[10px] font-bold text-white",children:"SJ"}):(0,s.jsx)(d.Bot,{className:"size-4 text-white"})}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("span",{className:"text-xs font-medium",children:"user"===I?"Sarah Johnson":"AI Assistant"}),(0,s.jsx)("div",{className:(0,i.cn)("rounded-2xl rounded-tl-md px-4 py-3","user"===I?"bg-muted":"bg-violet-500/10 border border-violet-500/20"),children:(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)("span",{className:"size-2 rounded-full bg-muted-foreground/50 animate-bounce"}),(0,s.jsx)("span",{className:"size-2 rounded-full bg-muted-foreground/50 animate-bounce",style:{animationDelay:"0.1s"}}),(0,s.jsx)("span",{className:"size-2 rounded-full bg-muted-foreground/50 animate-bounce",style:{animationDelay:"0.2s"}})]})})]})]}),(0,s.jsx)("div",{ref:L})]}),(0,s.jsxs)("div",{className:"p-4 border-t border-border bg-background",children:[(0,s.jsxs)("div",{className:"flex items-end gap-2",children:[(0,s.jsxs)("div",{className:"flex-1 relative",children:[(0,s.jsx)(n.Textarea,{ref:O,placeholder:"Type your message...",value:e,onChange:e=>h(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),Y())},disabled:D,className:"min-h-[44px] max-h-32 resize-none pr-20 text-sm",rows:1}),(0,s.jsxs)("div",{className:"absolute right-2 bottom-2 flex items-center gap-1",children:[(0,s.jsx)(t.Button,{type:"button",variant:"ghost",size:"icon",className:"size-7 text-muted-foreground hover:text-foreground",children:(0,s.jsx)(g,{className:"size-4"})}),(0,s.jsx)(t.Button,{type:"button",variant:"ghost",size:"icon",className:"size-7 text-muted-foreground hover:text-foreground",children:(0,s.jsx)(b,{className:"size-4"})})]})]}),(0,s.jsx)(t.Button,{onClick:Y,disabled:!e.trim()||D,size:"icon",className:"size-11 shrink-0 bg-emerald-600 hover:bg-emerald-700 disabled:opacity-50",children:(0,s.jsx)(p,{className:"size-4"})})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,s.jsx)("button",{type:"button",onClick:()=>{T(e=>null===e?"user":"user"===e?"ai":null)},className:"text-[10px] text-muted-foreground hover:text-foreground transition-colors",children:"Toggle typing indicator (demo)"}),(0,s.jsxs)("p",{className:"text-[10px] text-muted-foreground",children:["Press"," ",(0,s.jsx)("kbd",{className:"px-1 py-0.5 rounded bg-muted text-[9px]",children:"Enter"})," ","to send,"," ",(0,s.jsx)("kbd",{className:"px-1 py-0.5 rounded bg-muted text-[9px]",children:"Shift + Enter"})," ","for new line"]})]})]})]})}}]);