(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,14406,e=>{"use strict";e.s(["Eye",()=>s],14406);let s=(0,e.i(14266).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},49778,e=>{"use strict";e.s(["Textarea",()=>a]);var s=e.i(78311),t=e.i(98467);function a(e){let{className:a,...r}=e;return(0,s.jsx)("textarea",{"data-slot":"textarea",className:(0,t.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),...r})}},70897,e=>{"use strict";e.s(["useLayoutEffect",()=>a]);var s,t=e.i(86112),a=(null==(s=globalThis)?void 0:s.document)?t.useLayoutEffect:()=>{}},8913,e=>{"use strict";e.s(["Primitive",()=>r]);var s=e.i(86112);e.i(22767);var t=e.i(94468),a=e.i(78311),r=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let n=(0,t.createSlot)("Primitive.".concat(r)),l=s.forwardRef((e,s)=>{let{asChild:t,...l}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(t?n:r,{...l,ref:s})});return l.displayName="Primitive.".concat(r),{...e,[r]:l}},{})},52948,e=>{"use strict";function s(e,s){let{checkForDefaultPrevented:t=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(a){if(null==e||e(a),!1===t||!a.defaultPrevented)return null==s?void 0:s(a)}}e.s(["composeEventHandlers",()=>s]),"undefined"!=typeof window&&window.document&&window.document.createElement},47934,49225,e=>{"use strict";e.s(["useSize",()=>a],47934);var s=e.i(86112),t=e.i(70897);function a(e){let[a,r]=s.useState(void 0);return(0,t.useLayoutEffect)(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let s=new ResizeObserver(s=>{let t,a;if(!Array.isArray(s)||!s.length)return;let n=s[0];if("borderBoxSize"in n){let e=n.borderBoxSize,s=Array.isArray(e)?e[0]:e;t=s.inlineSize,a=s.blockSize}else t=e.offsetWidth,a=e.offsetHeight;r({width:t,height:a})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}r(void 0)},[e]),a}e.s(["Presence",()=>n],49225);var r=e.i(77103),n=e=>{let{present:a,children:n}=e,i=function(e){var a,r;let[n,i]=s.useState(),o=s.useRef(null),d=s.useRef(e),c=s.useRef("none"),[u,m]=(a=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},s.useReducer((e,s)=>{let t=r[e][s];return null!=t?t:e},a));return s.useEffect(()=>{let e=l(o.current);c.current="mounted"===u?e:"none"},[u]),(0,t.useLayoutEffect)(()=>{let s=o.current,t=d.current;if(t!==e){let a=c.current,r=l(s);e?m("MOUNT"):"none"===r||(null==s?void 0:s.display)==="none"?m("UNMOUNT"):t&&a!==r?m("ANIMATION_OUT"):m("UNMOUNT"),d.current=e}},[e,m]),(0,t.useLayoutEffect)(()=>{if(n){var e;let s,t=null!=(e=n.ownerDocument.defaultView)?e:window,a=e=>{let a=l(o.current).includes(CSS.escape(e.animationName));if(e.target===n&&a&&(m("ANIMATION_END"),!d.current)){let e=n.style.animationFillMode;n.style.animationFillMode="forwards",s=t.setTimeout(()=>{"forwards"===n.style.animationFillMode&&(n.style.animationFillMode=e)})}},r=e=>{e.target===n&&(c.current=l(o.current))};return n.addEventListener("animationstart",r),n.addEventListener("animationcancel",a),n.addEventListener("animationend",a),()=>{t.clearTimeout(s),n.removeEventListener("animationstart",r),n.removeEventListener("animationcancel",a),n.removeEventListener("animationend",a)}}m("ANIMATION_END")},[n,m]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:s.useCallback(e=>{o.current=e?getComputedStyle(e):null,i(e)},[])}}(a),o="function"==typeof n?n({present:i.isPresent}):s.Children.only(n),d=(0,r.useComposedRefs)(i.ref,function(e){var s,t;let a=null==(s=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:s.get,r=a&&"isReactWarning"in a&&a.isReactWarning;return r?e.ref:(r=(a=null==(t=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:t.get)&&"isReactWarning"in a&&a.isReactWarning)?e.props.ref:e.props.ref||e.ref}(o));return"function"==typeof n||i.isPresent?s.cloneElement(o,{ref:d}):null};function l(e){return(null==e?void 0:e.animationName)||"none"}n.displayName="Presence"},55699,e=>{"use strict";e.s(["useControllableState",()=>r],55699);var s=e.i(86112),t=e.i(70897);s[" useEffectEvent ".trim().toString()],s[" useInsertionEffect ".trim().toString()];var a=s[" useInsertionEffect ".trim().toString()]||t.useLayoutEffect;function r(e){let{prop:t,defaultProp:r,onChange:n=()=>{},caller:l}=e,[i,o,d]=function(e){let{defaultProp:t,onChange:r}=e,[n,l]=s.useState(t),i=s.useRef(n),o=s.useRef(r);return a(()=>{o.current=r},[r]),s.useEffect(()=>{if(i.current!==n){var e;null==(e=o.current)||e.call(o,n),i.current=n}},[n,i]),[n,l,o]}({defaultProp:r,onChange:n}),c=void 0!==t,u=c?t:i;{let e=s.useRef(void 0!==t);s.useEffect(()=>{let s=e.current;if(s!==c){let e=c?"controlled":"uncontrolled";console.warn("".concat(l," is changing from ").concat(s?"controlled":"uncontrolled"," to ").concat(e,". Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component."))}e.current=c},[c,l])}return[u,s.useCallback(e=>{if(c){let a="function"==typeof e?e(t):e;if(a!==t){var s;null==(s=d.current)||s.call(d,a)}}else o(e)},[c,t,o,d])]}Symbol("RADIX:SYNC_STATE")},2019,e=>{"use strict";e.s(["usePrevious",()=>t]);var s=e.i(86112);function t(e){let t=s.useRef({value:e,previous:e});return s.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},51039,14266,2325,e=>{"use strict";e.s(["CheckIcon",()=>i],51039),e.s(["default",()=>i],2325),e.s(["default",()=>l],14266);var s=e.i(86112);let t=e=>{let s=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,t)=>t?t.toUpperCase():s.toLowerCase());return s.charAt(0).toUpperCase()+s.slice(1)},a=function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return s.filter((e,s,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===s).join(" ").trim()};var r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,s.forwardRef)((e,t)=>{let{color:n="currentColor",size:l=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:d="",children:c,iconNode:u,...m}=e;return(0,s.createElement)("svg",{ref:t,...r,width:l,height:l,stroke:n,strokeWidth:o?24*Number(i)/Number(l):i,className:a("lucide",d),...!c&&!(e=>{for(let s in e)if(s.startsWith("aria-")||"role"===s||"title"===s)return!0})(m)&&{"aria-hidden":"true"},...m},[...u.map(e=>{let[t,a]=e;return(0,s.createElement)(t,a)}),...Array.isArray(c)?c:[c]])}),l=(e,r)=>{let l=(0,s.forwardRef)((l,i)=>{let{className:o,...d}=l;return(0,s.createElement)(n,{ref:i,iconNode:r,className:a("lucide-".concat(t(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),o),...d})});return l.displayName=t(e),l},i=l("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},39213,e=>{"use strict";e.s(["Loader2",()=>s],39213);let s=(0,e.i(14266).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},35812,e=>{"use strict";e.s(["ChatPanel",()=>C],35812);var s=e.i(78311),t=e.i(9781),a=e.i(48399),r=e.i(25217),n=e.i(75854),l=e.i(49778),i=e.i(98467),o=e.i(52003),d=e.i(60163),c=e.i(34785),u=e.i(12439),m=e.i(9531),x=e.i(39213),h=e.i(14266);let f=(0,h.default)("paperclip",[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]]),g=(0,h.default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),p=(0,h.default)("smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),v=(0,h.default)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);var b=e.i(87613),j=e.i(21828),N=e.i(86112),y=e.i(43239);let w=[{id:"1",content:"Hello! I need help with my hotel booking. I made a reservation for next week but I need to change the dates.",sender:"user",senderName:"Sarah Johnson",timestamp:"10:23 AM",status:"read"},{id:"2",content:"Hello Sarah! I'd be happy to help you with your booking modification. Could you please provide me with your reservation number so I can look up your booking details?",sender:"ai",senderName:"AI Assistant",timestamp:"10:23 AM"},{id:"3",content:"Yes, it's RES-2024-78543. I originally booked for December 15-18, but I need to change it to December 20-23.",sender:"user",senderName:"Sarah Johnson",timestamp:"10:24 AM",status:"read"},{id:"4",content:"Thank you for providing your reservation number. I've found your booking for a Deluxe Room at our Downtown location. Let me check the availability for December 20-23...",sender:"ai",senderName:"AI Assistant",timestamp:"10:24 AM"},{id:"5",content:"Great news! We have availability for your preferred dates. The Deluxe Room is available from December 20-23. The rate would be $189/night, which is the same as your original booking. Would you like me to proceed with this change?",sender:"ai",senderName:"AI Assistant",timestamp:"10:25 AM"},{id:"6",content:"That sounds perfect! But actually, I was wondering if there are any suites available? It's going to be a special occasion.",sender:"user",senderName:"Sarah Johnson",timestamp:"10:26 AM",status:"read"},{id:"7",content:"I understand you're looking for something special! Let me connect you with one of our agents who can discuss our suite options and any special packages we might have available for your occasion.",sender:"ai",senderName:"AI Assistant",timestamp:"10:26 AM",isEscalation:!0},{id:"8",content:"Hi Sarah! I'm John, and I'll be taking over from here. I see you're interested in our suites for a special occasion from December 20-23. We have some wonderful options I'd love to share with you. May I ask what the occasion is? We often have special packages for anniversaries, birthdays, and other celebrations!",sender:"staff",senderName:"John Doe",timestamp:"10:27 AM",status:"delivered"}],k={user:{align:"right",bgColor:"bg-emerald-500 text-white",icon:null},ai:{align:"left",bgColor:"bg-violet-500/10 text-foreground border border-violet-500/20",icon:d.Bot},staff:{align:"left",bgColor:"bg-card text-foreground border border-border",icon:b.UserCheck}},S=[{id:"vip",label:"VIP",color:"bg-amber-500"},{id:"urgent",label:"Urgent",color:"bg-rose-500"},{id:"escalated",label:"Escalated",color:"bg-orange-500"},{id:"follow-up",label:"Follow-up",color:"bg-blue-500"},{id:"resolved",label:"Resolved",color:"bg-emerald-500"},{id:"pending",label:"Pending",color:"bg-slate-500"}],z={active:{label:"Active",color:"bg-emerald-500",textColor:"text-emerald-600"},waiting:{label:"Waiting",color:"bg-amber-500",textColor:"text-amber-600"},escalated:{label:"Escalated",color:"bg-orange-500",textColor:"text-orange-600"},resolved:{label:"Resolved",color:"bg-slate-500",textColor:"text-slate-600"}};function C(){let[e,h]=(0,N.useState)(""),[C,A]=(0,N.useState)(w),[I,M]=(0,N.useState)("user"),[T,E]=(0,N.useState)(!1),[D,R]=(0,N.useState)(!0),[L,O]=(0,N.useState)(!1),[P,U]=(0,N.useState)("active"),[B,W]=(0,N.useState)(["vip"]),[H,J]=(0,N.useState)(!1),F=(0,N.useRef)(null),V=(0,N.useRef)(null),_=async()=>{D?(R(!1),y.toast.info("Returned to AI",{description:"AI Assistant is now handling this conversation."})):(J(!0),await new Promise(e=>setTimeout(e,500)),J(!1),R(!0),y.toast.success("Chat taken over",{description:"You are now handling this conversation directly."}))};(0,N.useEffect)(()=>{var e;null==(e=F.current)||e.scrollIntoView({behavior:"smooth"})},[C,I]);let q=(0,N.useCallback)(async()=>{if(!e.trim()||T)return;E(!0);let s={id:String(C.length+1),content:e.trim(),sender:"staff",senderName:"John Doe",timestamp:new Date().toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),status:"sent"};A(e=>[...e,s]),h(""),M(null),setTimeout(()=>{A(e=>e.map(e=>e.id===s.id?{...e,status:"delivered"}:e)),E(!1),setTimeout(()=>{M("ai")},1e3)},500)},[e,C.length,T]);return(0,s.jsxs)("div",{className:"flex flex-col h-full bg-gradient-to-b from-muted/30 to-background",children:[(0,s.jsxs)("div",{className:"border-b border-border bg-background/80 backdrop-blur-sm",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between px-4 py-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)(t.Avatar,{className:"size-10",children:[(0,s.jsx)(t.AvatarImage,{src:"/avatars/sarah.jpg",alt:"Sarah Johnson"}),(0,s.jsx)(t.AvatarFallback,{className:"bg-gradient-to-br from-amber-500 to-orange-600 text-white",children:"SJ"})]}),L&&(0,s.jsx)("span",{className:"absolute -top-1 -right-1 size-4 rounded-full bg-rose-500 flex items-center justify-center",children:(0,s.jsx)(o.AlertTriangle,{className:"size-2.5 text-white"})})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("h2",{className:"font-semibold text-sm",children:"Sarah Johnson"}),(0,s.jsxs)(n.Select,{value:P,onValueChange:e=>{U(e),y.toast.success("Status changed to ".concat(z[e].label))},children:[(0,s.jsxs)(n.SelectTrigger,{className:"h-5 w-auto gap-1 border-none bg-transparent p-0 text-xs font-medium shadow-none focus:ring-0",children:[(0,s.jsx)("span",{className:(0,i.cn)("size-2 rounded-full",z[P].color)}),(0,s.jsx)(n.SelectValue,{})]}),(0,s.jsxs)(n.SelectContent,{children:[(0,s.jsx)(n.SelectItem,{value:"active",children:(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"size-2 rounded-full bg-emerald-500"}),"Active"]})}),(0,s.jsx)(n.SelectItem,{value:"waiting",children:(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"size-2 rounded-full bg-amber-500"}),"Waiting"]})}),(0,s.jsx)(n.SelectItem,{value:"escalated",children:(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"size-2 rounded-full bg-orange-500"}),"Escalated"]})}),(0,s.jsx)(n.SelectItem,{value:"resolved",children:(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"size-2 rounded-full bg-slate-500"}),"Resolved"]})})]})]})]}),(0,s.jsx)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:"user"===I?(0,s.jsx)("span",{className:"text-emerald-600 dark:text-emerald-400 font-medium",children:"Typing..."}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)("span",{className:"size-2 rounded-full bg-emerald-500"}),"Online"]}),(0,s.jsx)("span",{children:"â€¢"}),(0,s.jsx)("span",{children:"Booking #RES-2024-78543"})]})})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(r.Popover,{children:[(0,s.jsx)(r.PopoverTrigger,{asChild:!0,children:(0,s.jsxs)(a.Button,{variant:"outline",size:"sm",className:"h-8 gap-1.5 text-xs border-amber-500/30 text-amber-600 hover:bg-amber-500/10 hover:text-amber-600",children:[(0,s.jsx)(v,{className:"size-3.5"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Add Tag"})]})}),(0,s.jsxs)(r.PopoverContent,{className:"w-48 p-2",align:"end",children:[(0,s.jsx)("p",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Add a tag"}),(0,s.jsxs)("div",{className:"space-y-1",children:[S.filter(e=>!B.includes(e.id)).map(e=>(0,s.jsxs)("button",{onClick:()=>(e=>{if(!B.includes(e)){W(s=>[...s,e]);let s=S.find(s=>s.id===e);y.toast.success("Tag added: ".concat(null==s?void 0:s.label))}})(e.id),className:"w-full flex items-center gap-2 px-2 py-1.5 text-xs rounded-md hover:bg-muted transition-colors",children:[(0,s.jsx)("span",{className:(0,i.cn)("size-2 rounded-full",e.color)}),e.label]},e.id)),0===S.filter(e=>!B.includes(e.id)).length&&(0,s.jsx)("p",{className:"text-xs text-muted-foreground text-center py-2",children:"All tags added"})]})]})]}),(0,s.jsxs)(a.Button,{variant:"outline",size:"sm",onClick:()=>{O(!L),L?(W(e=>e.filter(e=>"urgent"!==e)),y.toast.info("Urgent flag removed")):(W(e=>e.includes("urgent")?e:[...e,"urgent"]),y.toast.warning("Marked as urgent",{description:"This conversation has been flagged as urgent."}))},className:(0,i.cn)("h-8 gap-1.5 text-xs transition-all",L?"border-rose-500 bg-rose-500/10 text-rose-600 hover:bg-rose-500/20":"border-rose-500/30 text-rose-600 hover:bg-rose-500/10 hover:text-rose-600"),children:[(0,s.jsx)(o.AlertTriangle,{className:(0,i.cn)("size-3.5",L&&"fill-rose-500")}),(0,s.jsx)("span",{className:"hidden sm:inline",children:L?"Urgent":"Mark Urgent"})]}),(0,s.jsxs)(a.Button,{variant:D?"outline":"default",size:"sm",onClick:_,disabled:H,className:(0,i.cn)("h-8 gap-1.5 text-xs transition-all",D?"border-emerald-500 bg-emerald-500/10 text-emerald-600 hover:bg-emerald-500/20":"bg-emerald-600 hover:bg-emerald-700"),children:[H?(0,s.jsx)(x.Loader2,{className:"size-3.5 animate-spin"}):D?(0,s.jsx)(b.UserCheck,{className:"size-3.5"}):(0,s.jsx)(m.Hand,{className:"size-3.5"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:H?"Taking over...":D?"Handling":"Take Over"})]})]})]}),B.length>0&&(0,s.jsxs)("div",{className:"flex items-center gap-2 px-4 pb-3",children:[(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:"Tags:"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-1.5",children:B.map(e=>{let t=S.find(s=>s.id===e);return t?(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-[10px] font-medium bg-muted",children:[(0,s.jsx)("span",{className:(0,i.cn)("size-1.5 rounded-full",t.color)}),t.label,(0,s.jsx)("button",{onClick:()=>{W(s=>s.filter(s=>s!==e)),"urgent"===e&&O(!1)},className:"ml-0.5 hover:text-rose-500 transition-colors",children:(0,s.jsx)(j.X,{className:"size-3"})})]},e):null})})]}),D&&(0,s.jsx)("div",{className:"flex items-center gap-2 px-4 pb-2",children:(0,s.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-emerald-600 dark:text-emerald-400 bg-emerald-500/10 px-2 py-1 rounded-full",children:[(0,s.jsx)(b.UserCheck,{className:"size-3"}),(0,s.jsx)("span",{className:"font-medium",children:"You are handling this conversation"})]})})]}),(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto px-4 py-4 space-y-4",children:[C.map(e=>{let t=k[e.sender],a=t.icon,r="user"===e.sender,n="staff"===e.sender;return(0,s.jsxs)("div",{className:(0,i.cn)("flex gap-3 max-w-[80%]",(r||n)&&"ml-auto flex-row-reverse"),children:[!r&&!n&&(0,s.jsx)("div",{className:"shrink-0",children:(0,s.jsx)("div",{className:(0,i.cn)("size-8 rounded-full flex items-center justify-center","ai"===e.sender?"bg-gradient-to-br from-violet-500 to-purple-600":"bg-gradient-to-br from-emerald-500 to-teal-600"),children:a&&(0,s.jsx)(a,{className:"size-4 text-white"})})}),(0,s.jsxs)("div",{className:(0,i.cn)("space-y-1",(r||n)&&"flex flex-col items-end"),children:[(0,s.jsxs)("div",{className:(0,i.cn)("flex items-center gap-2",(r||n)&&"flex-row-reverse"),children:[!r&&(0,s.jsx)("span",{className:"text-xs font-medium",children:e.senderName}),(0,s.jsx)("span",{className:"text-[10px] text-muted-foreground",children:e.timestamp})]}),(0,s.jsx)("div",{className:(0,i.cn)("rounded-2xl px-4 py-2.5 text-sm leading-relaxed",t.bgColor,r||n?"rounded-tr-md":"rounded-tl-md"),children:e.content}),n&&e.status&&(0,s.jsxs)("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground",children:["sent"===e.status&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Check,{className:"size-3"}),"Sent"]}),"delivered"===e.status&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.CheckCheck,{className:"size-3 text-emerald-500"}),"Delivered"]}),"read"===e.status&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.CheckCheck,{className:"size-3 text-blue-500"}),"Read"]})]}),e.isEscalation&&(0,s.jsxs)("div",{className:"flex items-center gap-1.5 text-[10px] text-amber-600 dark:text-amber-400 font-medium",children:[(0,s.jsx)(m.Hand,{className:"size-3"}),"Escalated to human agent"]})]})]},e.id)}),I&&(0,s.jsxs)("div",{className:(0,i.cn)("flex gap-3 max-w-[80%]",""),children:[(0,s.jsx)("div",{className:(0,i.cn)("size-8 rounded-full flex items-center justify-center","user"===I?"bg-gradient-to-br from-amber-500 to-orange-600":"bg-gradient-to-br from-violet-500 to-purple-600"),children:"user"===I?(0,s.jsx)("span",{className:"text-[10px] font-bold text-white",children:"SJ"}):(0,s.jsx)(d.Bot,{className:"size-4 text-white"})}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("span",{className:"text-xs font-medium",children:"user"===I?"Sarah Johnson":"AI Assistant"}),(0,s.jsx)("div",{className:(0,i.cn)("rounded-2xl rounded-tl-md px-4 py-3","user"===I?"bg-muted":"bg-violet-500/10 border border-violet-500/20"),children:(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)("span",{className:"size-2 rounded-full bg-muted-foreground/50 animate-bounce"}),(0,s.jsx)("span",{className:"size-2 rounded-full bg-muted-foreground/50 animate-bounce",style:{animationDelay:"0.1s"}}),(0,s.jsx)("span",{className:"size-2 rounded-full bg-muted-foreground/50 animate-bounce",style:{animationDelay:"0.2s"}})]})})]})]}),(0,s.jsx)("div",{ref:F})]}),(0,s.jsxs)("div",{className:"p-4 border-t border-border bg-background",children:[(0,s.jsxs)("div",{className:"flex items-end gap-2",children:[(0,s.jsxs)("div",{className:"flex-1 relative",children:[(0,s.jsx)(l.Textarea,{ref:V,placeholder:"Type your message...",value:e,onChange:e=>h(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),q())},disabled:T,className:"min-h-[44px] max-h-32 resize-none pr-20 text-sm",rows:1}),(0,s.jsxs)("div",{className:"absolute right-2 bottom-2 flex items-center gap-1",children:[(0,s.jsx)(a.Button,{type:"button",variant:"ghost",size:"icon",className:"size-7 text-muted-foreground hover:text-foreground",children:(0,s.jsx)(f,{className:"size-4"})}),(0,s.jsx)(a.Button,{type:"button",variant:"ghost",size:"icon",className:"size-7 text-muted-foreground hover:text-foreground",children:(0,s.jsx)(p,{className:"size-4"})})]})]}),(0,s.jsx)(a.Button,{onClick:q,disabled:!e.trim()||T,size:"icon",className:"size-11 shrink-0 bg-emerald-600 hover:bg-emerald-700 disabled:opacity-50",children:(0,s.jsx)(g,{className:"size-4"})})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,s.jsx)("button",{type:"button",onClick:()=>{M(e=>null===e?"user":"user"===e?"ai":null)},className:"text-[10px] text-muted-foreground hover:text-foreground transition-colors",children:"Toggle typing indicator (demo)"}),(0,s.jsxs)("p",{className:"text-[10px] text-muted-foreground",children:["Press"," ",(0,s.jsx)("kbd",{className:"px-1 py-0.5 rounded bg-muted text-[9px]",children:"Enter"})," ","to send,"," ",(0,s.jsx)("kbd",{className:"px-1 py-0.5 rounded bg-muted text-[9px]",children:"Shift + Enter"})," ","for new line"]})]})]})]})}},15577,e=>{"use strict";e.s(["default",()=>m],15577);var s=e.i(78311),t=e.i(35812),a=e.i(48399),r=e.i(84953),n=e.i(93578);let l=(0,e.i(14266).default)("inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);function i(e){let{type:t}=e;return"loading"===t?(0,s.jsxs)("div",{className:"flex flex-col h-full bg-gradient-to-b from-muted/30 to-background",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(r.Skeleton,{className:"size-10 rounded-full"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(r.Skeleton,{className:"h-4 w-32"}),(0,s.jsx)(r.Skeleton,{className:"h-3 w-48"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(r.Skeleton,{className:"h-8 w-20"}),(0,s.jsx)(r.Skeleton,{className:"h-8 w-24"}),(0,s.jsx)(r.Skeleton,{className:"h-8 w-20"})]})]}),(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto px-4 py-4 space-y-4",children:[(0,s.jsx)("div",{className:"flex gap-3 max-w-[80%] ml-auto flex-row-reverse",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(r.Skeleton,{className:"h-3 w-16 ml-auto"}),(0,s.jsx)(r.Skeleton,{className:"h-16 w-64 rounded-2xl rounded-tr-md"})]})}),(0,s.jsxs)("div",{className:"flex gap-3 max-w-[80%]",children:[(0,s.jsx)(r.Skeleton,{className:"size-8 rounded-full shrink-0"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(r.Skeleton,{className:"h-3 w-24"}),(0,s.jsx)(r.Skeleton,{className:"h-24 w-72 rounded-2xl rounded-tl-md"})]})]}),(0,s.jsx)("div",{className:"flex gap-3 max-w-[80%] ml-auto flex-row-reverse",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(r.Skeleton,{className:"h-3 w-16 ml-auto"}),(0,s.jsx)(r.Skeleton,{className:"h-12 w-48 rounded-2xl rounded-tr-md"})]})}),(0,s.jsxs)("div",{className:"flex gap-3 max-w-[80%]",children:[(0,s.jsx)(r.Skeleton,{className:"size-8 rounded-full shrink-0"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(r.Skeleton,{className:"h-3 w-24"}),(0,s.jsx)(r.Skeleton,{className:"h-32 w-80 rounded-2xl rounded-tl-md"})]})]}),(0,s.jsx)("div",{className:"flex gap-3 max-w-[80%] ml-auto flex-row-reverse",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(r.Skeleton,{className:"h-3 w-16 ml-auto"}),(0,s.jsx)(r.Skeleton,{className:"h-14 w-56 rounded-2xl rounded-tr-md"})]})})]}),(0,s.jsx)("div",{className:"p-4 border-t border-border",children:(0,s.jsxs)("div",{className:"flex items-end gap-2",children:[(0,s.jsx)(r.Skeleton,{className:"flex-1 h-11 rounded-md"}),(0,s.jsx)(r.Skeleton,{className:"size-11 rounded-md"})]})})]}):"no-selection"===t?(0,s.jsx)("div",{className:"flex flex-col items-center justify-center h-full bg-gradient-to-b from-muted/30 to-background px-4",children:(0,s.jsxs)("div",{className:"max-w-sm text-center space-y-4",children:[(0,s.jsx)("div",{className:"size-20 mx-auto rounded-full bg-muted/50 flex items-center justify-center",children:(0,s.jsx)(l,{className:"size-10 text-muted-foreground/50"})}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"No Conversation Selected"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Select a conversation from the sidebar to start chatting with customers or view their history."})]}),(0,s.jsx)("div",{className:"pt-2",children:(0,s.jsxs)(a.Button,{variant:"outline",size:"sm",className:"gap-2",children:[(0,s.jsx)(n.MessageSquare,{className:"size-4"}),"View All Conversations"]})})]})}):"no-messages"===t?(0,s.jsx)("div",{className:"flex flex-col items-center justify-center h-full px-4",children:(0,s.jsxs)("div",{className:"max-w-sm text-center space-y-4",children:[(0,s.jsx)("div",{className:"size-16 mx-auto rounded-full bg-emerald-500/10 flex items-center justify-center",children:(0,s.jsx)(n.MessageSquare,{className:"size-8 text-emerald-500"})}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Start the Conversation"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"This is a new conversation. Send a message to get started or wait for the customer to respond."})]})]})}):null}var o=e.i(85844),d=e.i(14406),c=e.i(39213),u=e.i(86112);function m(){let[e,r]=(0,u.useState)("chat");return(0,s.jsxs)("div",{className:"relative h-full",children:[(0,s.jsx)("div",{className:"absolute top-2 right-2 z-10",children:(0,s.jsxs)(o.DropdownMenu,{children:[(0,s.jsx)(o.DropdownMenuTrigger,{asChild:!0,children:(0,s.jsxs)(a.Button,{variant:"outline",size:"sm",className:"h-8 gap-1.5 text-xs shadow-md bg-background",children:[(0,s.jsx)(d.Eye,{className:"size-3.5"}),"View States"]})}),(0,s.jsxs)(o.DropdownMenuContent,{align:"end",children:[(0,s.jsx)(o.DropdownMenuLabel,{className:"text-xs",children:"Demo States"}),(0,s.jsx)(o.DropdownMenuSeparator,{}),(0,s.jsxs)(o.DropdownMenuItem,{onClick:()=>r("chat"),children:[(0,s.jsx)(n.MessageSquare,{className:"size-4 mr-2"}),"Active Chat"]}),(0,s.jsxs)(o.DropdownMenuItem,{onClick:()=>r("loading"),children:[(0,s.jsx)(c.Loader2,{className:"size-4 mr-2"}),"Loading State"]}),(0,s.jsxs)(o.DropdownMenuItem,{onClick:()=>r("no-selection"),children:[(0,s.jsx)(l,{className:"size-4 mr-2"}),"No Selection"]}),(0,s.jsxs)(o.DropdownMenuItem,{onClick:()=>r("no-messages"),children:[(0,s.jsx)(n.MessageSquare,{className:"size-4 mr-2"}),"No Messages"]})]})]})}),"chat"===e&&(0,s.jsx)(t.ChatPanel,{}),"loading"===e&&(0,s.jsx)(i,{type:"loading"}),"no-selection"===e&&(0,s.jsx)(i,{type:"no-selection"}),"no-messages"===e&&(0,s.jsxs)("div",{className:"flex flex-col h-full bg-gradient-to-b from-muted/30 to-background",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 px-4 py-3 border-b border-border bg-background/80",children:[(0,s.jsx)("div",{className:"size-10 rounded-full bg-gradient-to-br from-amber-500 to-orange-600 flex items-center justify-center text-white text-sm font-bold",children:"NC"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"font-semibold text-sm",children:"New Customer"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Started just now"})]})]}),(0,s.jsx)(i,{type:"no-messages"}),(0,s.jsx)("div",{className:"p-4 border-t border-border bg-background",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"text",placeholder:"Type your first message...",className:"flex-1 h-11 px-4 rounded-md border border-input bg-background text-sm"}),(0,s.jsx)(a.Button,{className:"h-11 px-6 bg-emerald-600 hover:bg-emerald-700",children:"Send"})]})})]})]})}}]);